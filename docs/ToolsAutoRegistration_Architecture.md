# Tools è‡ªåŠ¨æ³¨å†Œç³»ç»Ÿæ¶æ„

## ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Tools æ¨¡å—                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
        â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  types.ts    â”‚      â”‚registerRoute â”‚     â”‚ ToolsPage    â”‚
â”‚              â”‚      â”‚              â”‚     â”‚              â”‚
â”‚ ToolConfig   â”‚â—„â”€â”€â”€â”€â”€â”¤allToolConfigsâ”‚â”€â”€â”€â”€â–ºâ”‚è‡ªåŠ¨æ¸²æŸ“å¯¼èˆª   â”‚
â”‚  æ¥å£å®šä¹‰    â”‚      â”‚è‡ªåŠ¨æ³¨å†Œè·¯ç”±   â”‚     â”‚è‡ªåŠ¨åŠ è½½ç»„ä»¶   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â–²                     â–²                     â”‚
        â”‚                     â”‚                     â”‚
        â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
        â”‚    â”‚                             â”‚        â”‚
        â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Spectrum/     â”‚             â”‚ Python/        â”‚
    â”‚   index.ts    â”‚             â”‚   index.ts     â”‚
    â”‚               â”‚             â”‚                â”‚
    â”‚ export        â”‚             â”‚ export         â”‚
    â”‚ spectrumConfigâ”‚             â”‚ pythonConfig   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ•°æ®æµå‘

```
ç”¨æˆ·æ·»åŠ æ–°å·¥å…·
      â”‚
      â–¼
åˆ›å»º NewTool/index.ts
      â”‚
      â–¼
å¯¼å‡º newToolConfig: ToolConfig
      â”‚
      â–¼
åœ¨ registerRoute.ts å¯¼å…¥é…ç½®
      â”‚
      â–¼
æ·»åŠ åˆ° allToolConfigs æ•°ç»„
      â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â–¼                  â–¼                  â–¼
  è‡ªåŠ¨æ³¨å†Œè·¯ç”±      ç”Ÿæˆå¯¼èˆªé¡¹          åŠ¨æ€æ¸²æŸ“ç»„ä»¶
  router.addRoute    NavBar items       <Show><Lazy />
```

## æ–‡ä»¶ä¾èµ–å…³ç³»

```
types.ts (æ¥å£å®šä¹‰)
    â†‘
    â”‚ import
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                      â”‚
Spectrum/index.ts                   Python/index.ts
    â”‚ export spectrumConfig              â”‚ export pythonConfig
    â”‚                                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ import
                    â–¼
            registerRoute.ts
            (allToolConfigs æ•°ç»„)
                    â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                 â”‚
                    â–¼                 â–¼
            router.addRoute()    ToolsPage.tsx
            (æ³¨å†Œè·¯ç”±)           (UI æ¸²æŸ“)
```

## å…³é”®æµç¨‹æ—¶åºå›¾

```
[å¯åŠ¨] â†’ [registerToolsRoutes()] â†’ [éå† allToolConfigs]
                                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                               â”‚
                    â–¼                                               â–¼
            [æ³¨å†Œä¸»è·¯ç”± /tools]                        [æ³¨å†Œå­è·¯ç”± /tools/xxx]
                    â”‚                                               â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â–¼
                                    [è·¯ç”±æ³¨å†Œå®Œæˆ]
                                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                               â”‚
            [ç”¨æˆ·è®¿é—® /tools]                            [ç”¨æˆ·ç‚¹å‡»å·¥å…·]
                    â”‚                                               â”‚
                    â–¼                                               â–¼
            [ToolsPage æ¸²æŸ“]                            [å¯¼èˆªåˆ°å­è·¯ç”±]
                    â”‚                                               â”‚
                    â–¼                                               â–¼
        [ç”Ÿæˆå¯¼èˆªæ  (allToolConfigs)]              [æ‡’åŠ è½½å¯¹åº”ç»„ä»¶]
                    â”‚                                               â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â–¼
                                    [æ˜¾ç¤ºå·¥å…·å†…å®¹]
```

## æ·»åŠ æ–°å·¥å…·æµç¨‹

```
å¼€å‘è€…
  â”‚
  â–¼
åˆ›å»ºå·¥å…·ç›®å½•
  â”‚  (ä¾‹: src/Tools/Calculator/)
  â”‚
  â”œâ”€â†’ Calculator.tsx (å·¥å…·ç»„ä»¶)
  â”‚
  â””â”€â†’ index.ts (é…ç½®å¯¼å‡º)
        â”‚
        â–¼
      å¯¼å‡º calculatorConfig: ToolConfig
        â”‚  {
        â”‚    id: 'tools-calculator',
        â”‚    name: 'è®¡ç®—å™¨',
        â”‚    icon: 'ğŸ”¢',
        â”‚    description: '...',
        â”‚    component: () => import('./Calculator')
        â”‚  }
        â”‚
        â–¼
  ä¿®æ”¹ registerRoute.ts
        â”‚
        â”œâ”€â†’ import { calculatorConfig } from './Calculator'
        â”‚
        â””â”€â†’ æ·»åŠ åˆ° allToolConfigs æ•°ç»„
              â”‚
              â–¼
          ç³»ç»Ÿè‡ªåŠ¨å®Œæˆ:
              â”œâ”€â†’ æ³¨å†Œè·¯ç”±
              â”œâ”€â†’ æ˜¾ç¤ºå¯¼èˆª
              â””â”€â†’ æ¸²æŸ“ç»„ä»¶
```

## æ ¸å¿ƒä¼˜åŠ¿

### 1. å•ä¸€æ•°æ®æº (Single Source of Truth)

```
Before (å¤šå¤„å®šä¹‰):
  registerRoute.ts    â†’  { id, name, path, icon, description }
  ToolsPage.tsx       â†’  { id, label, icon, description }
  ToolsPage.tsx       â†’  <Show when={id}><Component /></Show>

After (ä¸€å¤„å®šä¹‰):
  Calculator/index.ts â†’  { id, name, icon, description, component }
                            â†“
                      ç³»ç»Ÿè‡ªåŠ¨å¤„ç†å…¶ä»–ä¸€åˆ‡
```

### 2. ç±»å‹å®‰å…¨

```typescript
// TypeScript ç¡®ä¿é…ç½®æ­£ç¡®
const config: ToolConfig = {
  id: 'tools-calc',        // âœ… string
  name: 'Calculator',      // âœ… string
  icon: 'ğŸ”¢',              // âœ… string
  description: '...',      // âœ… string
  component: () => import('./Calc'),  // âœ… æ‡’åŠ è½½å‡½æ•°
  // extra: 123,           // âŒ ç¼–è¯‘é”™è¯¯:ä¸å­˜åœ¨çš„å±æ€§
};
```

### 3. è‡ªåŠ¨åŒ–ç¨‹åº¦

```
æ‰‹åŠ¨æ­¥éª¤: 0
è‡ªåŠ¨å®Œæˆ: 3
  - è·¯ç”±æ³¨å†Œ
  - å¯¼èˆªç”Ÿæˆ
  - ç»„ä»¶æ¸²æŸ“
```

## æ‰©å±•æ€§è®¾è®¡

å¦‚æœéœ€è¦æ›´å¤šåŠŸèƒ½,åªéœ€æ‰©å±•æ¥å£:

```typescript
// å½“å‰ç‰ˆæœ¬
interface ToolConfig {
  id: string;
  name: string;
  icon: string;
  description: string;
  component: () => Promise<{ default: any }>;
}

// æœªæ¥æ‰©å±•
interface ToolConfig {
  id: string;
  name: string;
  icon: string;
  description: string;
  component: () => Promise<{ default: any }>;
  
  // æ–°å¢åŠŸèƒ½
  category?: 'productivity' | 'media' | 'dev';  // åˆ†ç±»
  tags?: string[];                              // æ ‡ç­¾
  experimental?: boolean;                       // å®éªŒæ€§
  requiredFeatures?: string[];                  // ç‰¹æ€§ä¾èµ–
  customSettings?: Record<string, any>;         // è‡ªå®šä¹‰é…ç½®
}
```

## æ€»ç»“

è¿™å¥—è‡ªåŠ¨æ³¨å†Œç³»ç»Ÿå®ç°äº†:

âœ… **DRY åŸåˆ™** (Don't Repeat Yourself)
âœ… **çº¦å®šä¼˜äºé…ç½®** (Convention over Configuration)
âœ… **ç±»å‹å®‰å…¨** (Type Safety)
âœ… **é«˜å†…èšä½è€¦åˆ** (High Cohesion, Low Coupling)
âœ… **æ˜“æ‰©å±•** (Easy to Extend)

æ ¸å¿ƒç†å¿µ:**ä¸€ä¸ªé…ç½®,è‡ªåŠ¨åŒ–ä¸€åˆ‡!**
